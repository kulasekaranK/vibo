"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[676],{676:(U,m,t)=>{t.r(m),t.d(m,{Tab2Page:()=>F});var d=t(467),s=t(2220),u=t(177),f=t(4341),_=t(9967),e=t(4438),h=t(6766);const p=()=>({"text-transform":"none"});function T(r,a){1&r&&e.nrm(0,"ion-progress-bar",7)}function P(r,a){if(1&r){const o=e.RV6();e.j41(0,"ion-item",9),e.bIt("click",function(){const i=e.eBV(o).$implicit,l=e.XpG(2);return e.Njj(l.navigateToUser(i.uid))}),e.j41(1,"ion-avatar",10),e.nrm(2,"img",11),e.k0s(),e.j41(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.k0s()()()}if(2&r){const o=a.$implicit;e.R7$(2),e.Y8G("src",o.profilePic,e.B4B),e.R7$(3),e.JRh(o.userName),e.R7$(2),e.JRh(o.name)}}function b(r,a){if(1&r&&(e.j41(0,"ion-list"),e.DNE(1,P,8,3,"ion-item",8),e.k0s()),2&r){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.filteredUsers)}}function E(r,a){1&r&&(e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",5)(3,"ion-label"),e.EFF(4,"No users found."),e.k0s()()()())}function R(r,a){if(1&r){const o=e.RV6();e.j41(0,"ion-col",12)(1,"ion-card",13)(2,"ion-avatar",14),e.nrm(3,"img",15),e.k0s(),e.j41(4,"ion-label",16),e.EFF(5),e.k0s(),e.nrm(6,"br"),e.j41(7,"ion-note"),e.EFF(8),e.k0s(),e.nrm(9,"br"),e.j41(10,"ion-button",17),e.bIt("click",function(){const i=e.eBV(o).$implicit,l=e.XpG();return e.Njj(l.navigateToUser(i.uid))}),e.EFF(11,"View"),e.k0s()()()}if(2&r){const o=a.$implicit;e.R7$(3),e.Y8G("src",o.profilePic,e.B4B),e.R7$(2),e.JRh(o.name),e.R7$(3),e.JRh(o.userName),e.R7$(2),e.Y8G("ngStyle",e.lJ4(4,p))}}let F=(()=>{var r;class a{constructor(n,i){this.firestore=n,this.router=i,this.searchTerm="",this.filteredUsers=[],this.isLoading=!1,this.followSuggestionsList=[],this.loadSuggestions()}loadSuggestions(){var n=this;const i=(0,_.rJ)(this.firestore,"users");(0,_.aQ)(i,function(){var l=(0,d.A)(function*(c){n.followSuggestionsList=c.docs.map(g=>g.data());for(const g of n.followSuggestionsList)g.userName=`@ ${g.userName}`,console.log(n.followSuggestionsList)});return function(c){return l.apply(this,arguments)}}())}searchUsers(){var n=this;return(0,d.A)(function*(){if(n.isLoading=!0,""===n.searchTerm.trim())return n.filteredUsers=[],void(n.isLoading=!1);const i=(0,_.rJ)(n.firestore,"users"),l=(0,_.P)(i,(0,_._M)("userName",">=",n.searchTerm),(0,_._M)("userName","<=",n.searchTerm+"\uf8ff")),c=yield(0,_.GG)(l);n.filteredUsers=[],c.forEach(g=>{n.filteredUsers.push({id:g.id,...g.data()})}),n.isLoading=!1})()}navigateToUser(n){this.router.navigate(["/user",n])}}return(r=a).\u0275fac=function(n){return new(n||r)(e.rXU(_._7),e.rXU(h.Ix))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-tab2"]],standalone:!0,features:[e.aNF],decls:14,vars:5,consts:[[1,"ion-no-border"],["mode","md"],["type","indeterminate",4,"ngIf"],["placeholder","Search by username","mode","ios","animated","true",3,"ngModelChange","ionInput","ngModel"],[4,"ngIf"],[1,"ion-text-center"],["size","6","class","ion-text-center",4,"ngFor","ngForOf"],["type","indeterminate"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["slot","start"],["alt","Profile Picture",3,"src"],["size","6",1,"ion-text-center"],[1,"ion-padding"],[1,"avatar"],["alt","",3,"src"],["color","dark"],["size","small","color","primary","shape","round",1,"ion-margin-top",3,"click","ngStyle"]],template:function(n,i){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.EFF(3,"Search Users"),e.k0s(),e.DNE(4,T,1,0,"ion-progress-bar",2),e.k0s()(),e.j41(5,"ion-content")(6,"ion-searchbar",3),e.mxI("ngModelChange",function(c){return e.DH7(i.searchTerm,c)||(i.searchTerm=c),c}),e.bIt("ionInput",function(){return i.searchUsers()}),e.k0s(),e.DNE(7,b,2,1,"ion-list",4)(8,E,5,0,"ion-grid",4),e.j41(9,"ion-grid",5)(10,"ion-note"),e.EFF(11,"Fresh Faces on Vibo"),e.k0s(),e.j41(12,"ion-row"),e.DNE(13,R,12,5,"ion-col",6),e.k0s()()()),2&n&&(e.R7$(4),e.Y8G("ngIf",i.isLoading),e.R7$(2),e.R50("ngModel",i.searchTerm),e.R7$(),e.Y8G("ngIf",i.filteredUsers.length>0),e.R7$(),e.Y8G("ngIf",i.searchTerm&&0===i.filteredUsers.length),e.R7$(5),e.Y8G("ngForOf",i.followSuggestionsList))},dependencies:[s.JI,s.b_,s.FH,s.hU,s.ln,s.lO,s.Jm,s.nf,s.mC,s.he,s.uz,s.S1,s.eU,s.ai,s.BC,s.W9,u.MD,u.Sq,u.bT,u.B3,f.YN,f.BC,f.vS],styles:[".avatar[_ngcontent-%COMP%]{width:90px;height:90px;margin:10px auto}"]}),a})()}}]);